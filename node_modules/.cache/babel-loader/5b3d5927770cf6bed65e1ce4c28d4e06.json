{"ast":null,"code":"import _slicedToArray from\"C:/Users/panyushin/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import MoviesCard from'../MoviesCard/MoviesCard';import'./MoviesCardList.css';import useWindowSize from'../../hooks/useWindowSize';import{AppContext}from'../../contexts/AppContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function MoviesCardList(props){var value=React.useContext(AppContext);var size=useWindowSize();var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),count=_React$useState2[0],setCount=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),cards=_React$useState4[0],setCards=_React$useState4[1];function increment(){setCount(count+cards);}React.useEffect(function(){function getSize(){if(size>=1280){setCount(12);setCards(3);}if(size<1280&&size>767){setCount(8);setCards(2);}if(size<=767){setCount(5);setCards(2);}}getSize();},[size]);return/*#__PURE__*/_jsx(\"section\",{className:\"movies section-movies\",children:props.savedMovies?/*#__PURE__*/_jsx(\"section\",{className:\"movies-cardlist\",children:value.savedMovies.map(function(movie){return/*#__PURE__*/_jsx(MoviesCard,{movie:movie,savedMovies:props.savedMovies,handleDeleteMovie:props.handleDeleteMovie,checkLikeStatus:props.checkLikeStatus},movie.movieId);})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"movies-cardlist\",children:[value.movies.length>count&&value.movies.slice(0,count).map(function(movie){return/*#__PURE__*/_jsx(MoviesCard,{movie:movie,handleSavedMovie:props.handleSavedMovie,handleDeleteMovie:props.handleDeleteMovie,checkLikeStatus:props.checkLikeStatus},movie.id);}),value.movies.length<=count&&value.movies.map(function(movie){return/*#__PURE__*/_jsx(MoviesCard,{movie:movie,handleSavedMovie:props.handleSavedMovie,handleDeleteMovie:props.handleDeleteMovie,checkLikeStatus:props.checkLikeStatus},movie.id);})]}),/*#__PURE__*/_jsx(\"div\",{className:value.movies.length<=count?'movies-cardlist__more-button-container_none':'movies-cardlist__more-button-container',children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"movies-cardlist__more-button\",\"aria-label\":\"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u0435\\u0449\\u0435\",onClick:increment,children:\"\\u0415\\u0449\\u0451\"})})]})});}","map":{"version":3,"names":["React","MoviesCard","useWindowSize","AppContext","MoviesCardList","props","value","useContext","size","useState","count","setCount","cards","setCards","increment","useEffect","getSize","savedMovies","map","movie","handleDeleteMovie","checkLikeStatus","movieId","movies","length","slice","handleSavedMovie","id"],"sources":["C:/Users/panyushin/dev/movies-explorer-frontend/src/components/MoviesCardList/MoviesCardList.js"],"sourcesContent":["import React from 'react';\nimport MoviesCard from '../MoviesCard/MoviesCard';\nimport './MoviesCardList.css';\nimport useWindowSize from '../../hooks/useWindowSize';\nimport { AppContext } from '../../contexts/AppContext';\n\nexport default function MoviesCardList(props) {\n  const value = React.useContext(AppContext);\n  const size = useWindowSize();\n  const [count, setCount] = React.useState(0);\n  const [cards, setCards] = React.useState(0);\n\n  function increment() {\n    setCount(count + cards);\n  }\n\n  React.useEffect(() => {\n    function getSize() {\n      if (size >= 1280) {\n        setCount(12);\n        setCards(3);\n      }\n      if (size < 1280 && size > 767) {\n        setCount(8);\n        setCards(2);\n      }\n      if (size <= 767) {\n        setCount(5);\n        setCards(2);\n      }\n    }\n    getSize();\n  }, [size]);\n\n\n  return(\n    <section className='movies section-movies'>\n        {\n          props.savedMovies\n            ? <section className='movies-cardlist'>\n                {\n                  value.savedMovies\n                    .map((movie) => (\n                      <MoviesCard\n                        key={movie.movieId}\n                        movie={movie}\n                        savedMovies={props.savedMovies}\n                        handleDeleteMovie={props.handleDeleteMovie}\n                        checkLikeStatus={props.checkLikeStatus}\n                      />\n                    ))\n                }\n              </section>\n\n          : <>\n              <section className='movies-cardlist'>\n                {\n                  value.movies.length > count &&\n                    value.movies\n                      .slice(0, count)\n                      .map((movie) => (\n                        <MoviesCard\n                          key={movie.id}\n                          movie={movie}\n                          handleSavedMovie={props.handleSavedMovie}\n                          handleDeleteMovie={props.handleDeleteMovie}\n                          checkLikeStatus={props.checkLikeStatus}\n                        />\n                      ))\n                }\n                {value.movies.length <= count &&\n                  value.movies.map((movie) => (\n                    <MoviesCard\n                      key={movie.id}\n                      movie={movie}\n                      handleSavedMovie={props.handleSavedMovie}\n                      handleDeleteMovie={props.handleDeleteMovie}\n                      checkLikeStatus={props.checkLikeStatus}\n                    />\n              ))}\n              </section>\n              <div\n                className={ value.movies.length <= count  ? 'movies-cardlist__more-button-container_none' : 'movies-cardlist__more-button-container' }>\n                <button\n                  type='button'\n                  className='movies-cardlist__more-button'\n                  aria-label='Показать еще'\n                  onClick={increment}\n                >\n                  Ещё\n                </button>\n              </div>\n          </>\n        }\n  </section>\n);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}