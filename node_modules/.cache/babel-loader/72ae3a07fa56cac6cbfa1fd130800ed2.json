{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\panyushin\\\\dev\\\\movies-explorer-frontend\\\\src\\\\components\\\\SearchForm\\\\SearchForm.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport useFormWithValidation from '../../hooks/useFormWithValidation';\nimport './SearchForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SearchForm(props) {\n  _s();\n\n  const [name, setName] = React.useState('');\n  const [checkbox, setCheckbox] = React.useState(false);\n  const location = useLocation();\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeCheckbox(e) {\n    const isShortFilms = e.target.checked;\n    setCheckbox(isShortFilms);\n    props.getMoviesList(name, isShortFilms);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.getMoviesList(name, checkbox);\n  }\n\n  React.useEffect(() => {\n    if (location.pathname === '/movies') {\n      setName(props.defaultValue);\n      setCheckbox(JSON.parse(localStorage.getItem('shortFilms')) || false);\n    }\n\n    props.getMoviesList(name, checkbox);\n  }, [location.pathname]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"search-movies section-movies\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-movies__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        noValidate: true,\n        className: \"search-movies__form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"search-movies__input\",\n          type: \"text\",\n          name: \"name\",\n          placeholder: \"\\u0424\\u0438\\u043B\\u044C\\u043C\",\n          maxLength: \"60\",\n          onChange: handleChangeName,\n          value: name || '',\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"search-movies__button\",\n          type: \"submit\",\n          children: \"\\u041D\\u0430\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-ckeckbox\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"filter-checkbox__label\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            className: \"filter-checkbox__input\",\n            name: \"filterCheckbox\",\n            checked: checkbox,\n            onChange: e => handleChangeCheckbox(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"filter-checkbox_visible\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"filter-checkbox__title\",\n          children: \"\\u041A\\u043E\\u0440\\u043E\\u0442\\u043A\\u043E\\u043C\\u0435\\u0442\\u0440\\u0430\\u0436\\u043A\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchForm, \"sx6bUJtmfJs62IzWQdRoylOoiJ4=\", false, function () {\n  return [useLocation];\n});\n\n_c = SearchForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchForm\");","map":{"version":3,"names":["React","useLocation","useFormWithValidation","SearchForm","props","name","setName","useState","checkbox","setCheckbox","location","handleChangeName","e","target","value","handleChangeCheckbox","isShortFilms","checked","getMoviesList","handleSubmit","preventDefault","useEffect","pathname","defaultValue","JSON","parse","localStorage","getItem"],"sources":["C:/Users/panyushin/dev/movies-explorer-frontend/src/components/SearchForm/SearchForm.js"],"sourcesContent":["import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport useFormWithValidation from '../../hooks/useFormWithValidation';\nimport './SearchForm.css';\n\nexport default function SearchForm(props) {\n  const [name, setName] = React.useState('')\n  const [checkbox, setCheckbox] = React.useState(false)\n  const location = useLocation();\n\n  function handleChangeName(e) {\n    setName(e.target.value)\n  }\n\n  function handleChangeCheckbox(e) {\n    const isShortFilms = e.target.checked\n    setCheckbox(isShortFilms)\n    props.getMoviesList(name, isShortFilms)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    props.getMoviesList(name, checkbox)\n  }\n\n  React.useEffect(() => {\n    if(location.pathname === '/movies'){\n    setName(props.defaultValue)\n    setCheckbox(JSON.parse(localStorage.getItem('shortFilms')) || false)\n  }\n  props.getMoviesList(name, checkbox)\n  }, [location.pathname])\n\n  return(\n    <section className='search-movies section-movies'>\n      <div className='search-movies__container'>\n        <form\n          noValidate\n          className='search-movies__form'\n          onSubmit={handleSubmit}\n        >\n          <input\n            className='search-movies__input'\n            type='text'\n            name='name'\n            placeholder='Фильм'\n            maxLength='60'\n            onChange={handleChangeName}\n            value={name || ''}\n            autoComplete='off'\n          />\n          <button\n            className='search-movies__button'\n            type='submit'\n          >\n            Найти\n          </button>\n        </form>\n        <div className='filter-ckeckbox'>\n      <label className='filter-checkbox__label'>\n        <input\n          type='checkbox'\n          className='filter-checkbox__input'\n          name='filterCheckbox'\n          checked={checkbox}\n          onChange={(e) => handleChangeCheckbox(e)}\n        />\n        <span className='filter-checkbox_visible'></span>\n      </label>\n      <p className='filter-checkbox__title'>Короткометражки</p>\n    </div>\n      </div>\n    </section>\n  )\n}"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,qBAAP,MAAkC,mCAAlC;AACA,OAAO,kBAAP;;AAEA,eAAe,SAASC,UAAT,CAAoBC,KAApB,EAA2B;EAAA;;EACxC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,KAAK,CAACO,QAAN,CAAe,EAAf,CAAxB;EACA,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,KAAK,CAACO,QAAN,CAAe,KAAf,CAAhC;EACA,MAAMG,QAAQ,GAAGT,WAAW,EAA5B;;EAEA,SAASU,gBAAT,CAA0BC,CAA1B,EAA6B;IAC3BN,OAAO,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;EACD;;EAED,SAASC,oBAAT,CAA8BH,CAA9B,EAAiC;IAC/B,MAAMI,YAAY,GAAGJ,CAAC,CAACC,MAAF,CAASI,OAA9B;IACAR,WAAW,CAACO,YAAD,CAAX;IACAZ,KAAK,CAACc,aAAN,CAAoBb,IAApB,EAA0BW,YAA1B;EACD;;EAED,SAASG,YAAT,CAAsBP,CAAtB,EAAyB;IACvBA,CAAC,CAACQ,cAAF;IACAhB,KAAK,CAACc,aAAN,CAAoBb,IAApB,EAA0BG,QAA1B;EACD;;EAEDR,KAAK,CAACqB,SAAN,CAAgB,MAAM;IACpB,IAAGX,QAAQ,CAACY,QAAT,KAAsB,SAAzB,EAAmC;MACnChB,OAAO,CAACF,KAAK,CAACmB,YAAP,CAAP;MACAd,WAAW,CAACe,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,KAAkD,KAAnD,CAAX;IACD;;IACDvB,KAAK,CAACc,aAAN,CAAoBb,IAApB,EAA0BG,QAA1B;EACC,CAND,EAMG,CAACE,QAAQ,CAACY,QAAV,CANH;EAQA,oBACE;IAAS,SAAS,EAAC,8BAAnB;IAAA,uBACE;MAAK,SAAS,EAAC,0BAAf;MAAA,wBACE;QACE,UAAU,MADZ;QAEE,SAAS,EAAC,qBAFZ;QAGE,QAAQ,EAAEH,YAHZ;QAAA,wBAKE;UACE,SAAS,EAAC,sBADZ;UAEE,IAAI,EAAC,MAFP;UAGE,IAAI,EAAC,MAHP;UAIE,WAAW,EAAC,gCAJd;UAKE,SAAS,EAAC,IALZ;UAME,QAAQ,EAAER,gBANZ;UAOE,KAAK,EAAEN,IAAI,IAAI,EAPjB;UAQE,YAAY,EAAC;QARf;UAAA;UAAA;UAAA;QAAA,QALF,eAeE;UACE,SAAS,EAAC,uBADZ;UAEE,IAAI,EAAC,QAFP;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAfF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAuBE;QAAK,SAAS,EAAC,iBAAf;QAAA,wBACF;UAAO,SAAS,EAAC,wBAAjB;UAAA,wBACE;YACE,IAAI,EAAC,UADP;YAEE,SAAS,EAAC,wBAFZ;YAGE,IAAI,EAAC,gBAHP;YAIE,OAAO,EAAEG,QAJX;YAKE,QAAQ,EAAGI,CAAD,IAAOG,oBAAoB,CAACH,CAAD;UALvC;YAAA;YAAA;YAAA;UAAA,QADF,eAQE;YAAM,SAAS,EAAC;UAAhB;YAAA;YAAA;YAAA;UAAA,QARF;QAAA;UAAA;UAAA;UAAA;QAAA,QADE,eAWF;UAAG,SAAS,EAAC,wBAAb;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAXE;MAAA;QAAA;QAAA;QAAA;MAAA,QAvBF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAyCD;;GArEuBT,U;UAGLF,W;;;KAHKE,U"},"metadata":{},"sourceType":"module"}