{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\panyushin\\\\dev\\\\movies-explorer-frontend\\\\src\\\\components\\\\SearchForm\\\\SearchForm.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport useFormWithValidation from '../../hooks/useFormWithValidation';\nimport './SearchForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SearchForm(props) {\n  _s();\n\n  const location = useLocation();\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    setValues\n  } = useFormWithValidation();\n  const {\n    name\n  } = values;\n  const [checkedSaved, setChecked] = React.useState(false);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    isValid && !props.isLoading && props.getMoviesList(name, checked);\n  }\n\n  function onChange(event) {\n    const isShortFilms = event.target.checked;\n    setChecked(isShortFilms);\n\n    if (location.pathname === '/movies') {\n      props.getMoviesList(props.defaultValue, !checked);\n    } else if (location.pathname === '/saved-movies') {\n      props.handleToggleShortMovies({\n        checked: checked\n      });\n    }\n  }\n\n  React.useEffect(() => {\n    if (location.pathname === '/movies') {\n      setValues({\n        name: props.defaultValue\n      });\n      setChecked(JSON.parse(localStorage.getItem('isShort')));\n      props.getMoviesList(props.defaultValue, !checked);\n    }\n  }, [location]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"search-movies section-movies\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-movies__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        noValidate: true,\n        className: \"search-movies__form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"search-movies__input\",\n          type: \"text\",\n          name: \"name\",\n          placeholder: \"\\u0424\\u0438\\u043B\\u044C\\u043C\",\n          maxLength: \"60\",\n          onChange: handleChange,\n          value: name || '',\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"search-movies__button\",\n          type: \"submit\",\n          disabled: !isValid,\n          children: \"\\u041D\\u0430\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"search-movies__input-error\",\n        children: errors.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-ckeckbox\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"filter-checkbox__label\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            className: \"filter-checkbox__input\",\n            name: \"filterCheckbox\",\n            checked: checked,\n            onChange: e => onChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"filter-checkbox_visible\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"filter-checkbox__title\",\n          children: \"\\u041A\\u043E\\u0440\\u043E\\u0442\\u043A\\u043E\\u043C\\u0435\\u0442\\u0440\\u0430\\u0436\\u043A\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchForm, \"84+ey3ceOSTSCi90/TdrlKgGwx4=\", false, function () {\n  return [useLocation, useFormWithValidation];\n});\n\n_c = SearchForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchForm\");","map":{"version":3,"names":["React","useLocation","useFormWithValidation","SearchForm","props","location","values","handleChange","errors","isValid","setValues","name","checkedSaved","setChecked","useState","handleSubmit","e","preventDefault","isLoading","getMoviesList","checked","onChange","event","isShortFilms","target","pathname","defaultValue","handleToggleShortMovies","useEffect","JSON","parse","localStorage","getItem"],"sources":["C:/Users/panyushin/dev/movies-explorer-frontend/src/components/SearchForm/SearchForm.js"],"sourcesContent":["import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport useFormWithValidation from '../../hooks/useFormWithValidation';\nimport './SearchForm.css';\n\nexport default function SearchForm(props) {\n  const location = useLocation();\n  const { values, handleChange, errors, isValid, setValues } = useFormWithValidation();\n  const { name } = values;\n  const [checkedSaved, setChecked] = React.useState(false)\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    isValid && !props.isLoading &&\n      props.getMoviesList(name, checked);\n  }\n\n  function onChange(event) {\n    const isShortFilms = event.target.checked\n    setChecked(isShortFilms)\n    if (location.pathname === '/movies') {\n      props.getMoviesList(props.defaultValue, !checked)\n    } else if (location.pathname === '/saved-movies'){\n      props.handleToggleShortMovies({checked: checked})\n    }\n  }\n\n  React.useEffect(() => {\n    if (location.pathname === '/movies') {\n      setValues({ name: props.defaultValue })\n      setChecked(JSON.parse(localStorage.getItem('isShort')))\n      props.getMoviesList(props.defaultValue, !checked)\n    }\n  }, [location])\n\n  return(\n    <section className='search-movies section-movies'>\n      <div className='search-movies__container'>\n        <form\n          noValidate\n          className='search-movies__form'\n          onSubmit={handleSubmit}\n        >\n          <input\n            className='search-movies__input'\n            type='text'\n            name='name'\n            placeholder='Фильм'\n            maxLength='60'\n            onChange={handleChange}\n            value={name || ''}\n            autoComplete='off'\n          />\n          <button\n            className='search-movies__button'\n            type='submit'\n            disabled={!isValid}\n          >\n            Найти\n          </button>\n        </form>\n        <span className='search-movies__input-error'>{errors.name}</span>\n        <div className='filter-ckeckbox'>\n      <label className='filter-checkbox__label'>\n        <input\n          type='checkbox'\n          className='filter-checkbox__input'\n          name='filterCheckbox'\n          checked={checked}\n          onChange={(e) => onChange(e)}\n        />\n        <span className='filter-checkbox_visible'></span>\n      </label>\n      <p className='filter-checkbox__title'>Короткометражки</p>\n    </div>\n      </div>\n    </section>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}