{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\panyushin\\\\dev\\\\movies-explorer-frontend\\\\src\\\\components\\\\App\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Route, Switch, useHistory, useLocation } from 'react-router-dom';\nimport Login from '../Login/Login.js';\nimport Main from '../Main/Main.js';\nimport Movies from '../Movies/Movies.js';\nimport Profile from '../Profile/Profile.js';\nimport Register from '../Register/Register.js';\nimport * as movieApi from '../../utils/MoviesApi.js';\nimport * as mainApi from '../../utils/MainApi.js';\nimport { AppContext } from '../../contexts/AppContext.js';\nimport SavedMovies from '../SavedMovies/SavedMovies.js';\nimport NotFond from '../NotFound/NotFound.js';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute.js';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext.js';\nimport InfoPopup from '../InfoPopup/InfoPopup.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const location = useLocation();\n  const history = useHistory();\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [movies, setMovies] = React.useState([]);\n  const [savedMovies, setSavedMovies] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(undefined);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [isShortSavedMovies, setIsShortSavedMovies] = React.useState(false);\n  const [isInfoPopupOpen, setIsInfoPopupOpen] = React.useState(false);\n  const [infoPopupTitle, setInfoPopupTitle] = React.useState({\n    title: 'Что-то пошло не так! Попробуйте ещё раз.'\n  });\n  const [isError, setIsError] = React.useState(false);\n  React.useEffect(() => {\n    if (loggedIn === true) {\n      setIsLoading(true);\n      mainApi.getUserInfo().then(data => {\n        setCurrentUser(data);\n      }).catch(err => console.log(err)).finally(() => {\n        setIsLoading(false);\n      });\n    }\n  }, [location, loggedIn]);\n  React.useEffect(() => {\n    if (loggedIn === true) {\n      setIsLoading(true);\n      mainApi.getUserMovies().then(data => {\n        const lastSearchList = JSON.parse(localStorage.getItem('lastSearchList'));\n        lastSearchList && setMovies(lastSearchList);\n        setSavedMovies(data);\n        localStorage.setItem('savedMoviesList', JSON.stringify(data));\n      }).catch(err => console.log(err)).finally(() => {\n        setIsLoading(false);\n      });\n    }\n  }, [location, loggedIn]);\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n\n    if (localStorage.getItem('token')) {\n      mainApi.checkToken(token).then(data => {\n        setLoggedIn(true);\n        history.push(location.pathname);\n      }).catch(err => console.log(err));\n    }\n  }, [localStorage.getItem('token')]);\n\n  function handleRegister(_ref) {\n    let {\n      name,\n      email,\n      password\n    } = _ref;\n    mainApi.register(name, email, password).then(res => {\n      console.log(res);\n      history.push('/signin');\n    }).catch(err => {\n      console.log(err);\n      openErrorPopup('Что-то пошло не так! Попробуйте ещё раз.');\n    });\n  }\n\n  ;\n\n  function handleLogin(_ref2) {\n    let {\n      email,\n      password\n    } = _ref2;\n    mainApi.login(email, password).then(res => {\n      history.push('/movies');\n      setLoggedIn(true);\n    }).catch(err => {\n      console.log(err);\n      openErrorPopup('Что-то пошло не так! Попробуйте ещё раз.');\n    });\n  }\n\n  ;\n\n  function handleEditProfile(_ref3) {\n    let {\n      name,\n      email\n    } = _ref3;\n    mainApi.setUserInfo(name, email).then(res => {\n      setCurrentUser({ ...currentUser,\n        name: res.name,\n        email: res.email\n      });\n      openSuccessPopup('Данные успешно обновлены!');\n    }).catch(err => {\n      openErrorPopup('Что-то пошло не так! Попробуйте ещё раз.');\n      console.log(err);\n    }).finally(() => {\n      setIsLoading(false);\n    });\n  }\n\n  ;\n\n  function handleInfoPopupClick() {\n    setIsInfoPopupOpen(true);\n  }\n\n  ;\n\n  function openErrorPopup(title) {\n    handleInfoPopupClick();\n    setIsError(true);\n    setInfoPopupTitle({\n      title\n    });\n  }\n\n  ;\n\n  function openSuccessPopup(title) {\n    handleInfoPopupClick();\n    setIsError(false);\n    setInfoPopupTitle({\n      title\n    });\n  }\n\n  ;\n\n  function closeInfoPopup() {\n    setIsInfoPopupOpen(false);\n  }\n\n  ;\n  React.useEffect(() => {\n    function handleEscClose(evt) {\n      evt.key === 'Escape' && closeInfoPopup();\n    }\n\n    function handleOverlayClose(evt) {\n      evt.target.classList.contains('popup-info_opened') && closeInfoPopup();\n    }\n\n    window.addEventListener('keydown', handleEscClose);\n    window.addEventListener('click', handleOverlayClose);\n    return () => {\n      window.removeEventListener('click', handleOverlayClose);\n      window.removeEventListener('keydown', handleEscClose);\n    };\n  }, []);\n\n  function checkLikeStatus(_ref4) {\n    let {\n      movie\n    } = _ref4;\n\n    if (savedMovies) {\n      return savedMovies.some(i => i.movieId === movie.id && i.owner === currentUser._id);\n    }\n\n    return false;\n  }\n\n  ;\n\n  function getMovieslist(name, isShort) {\n    if (loggedIn) {\n      setIsLoading(true);\n      movieApi.getMovies().then(moviesData => {\n        localStorage.setItem('movies', JSON.stringify(moviesData));\n        const searchedMovies = moviesData.filter(movie => {\n          const nameEN = movie.nameEN ? movie.nameEN : movie.nameRU;\n          return movie.nameRU.toLowerCase().includes(name.toLowerCase()) || movie.description.toLowerCase().includes(name.toLowerCase()) || nameEN.toLowerCase().includes(name.toLowerCase());\n        });\n        const foundMovies = isShort ? searchedMovies.filter(item => item.duration <= 40) : searchedMovies;\n        localStorage.setItem('foundMovies', JSON.stringify(foundMovies));\n        const lastSearchList = ('lastSearchList', JSON.parse(localStorage.getItem('foundMovies')));\n        localStorage.setItem('nameMovie', name);\n        localStorage.setItem('isShort', isShort);\n        setMovies(lastSearchList);\n        foundMovies.length === 0 && openErrorPopup('Ничего не найдено');\n      }).catch(err => {\n        openErrorPopup('Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз');\n      }).finally(() => {\n        setIsLoading(false);\n      });\n    }\n  }\n\n  ;\n\n  function searchSavedMovies(name) {\n    const savedMoviesList = JSON.parse(localStorage.getItem('savedMoviesList'));\n\n    if (!name) {\n      openErrorPopup('Нужно ввести ключевое слово');\n      return;\n    }\n\n    if (savedMoviesList) {\n      const searchSavedMoviesList = savedMoviesList.filter(movie => {\n        const nameEN = movie.nameEN ? movie.nameEN : movie.nameRU;\n        return movie.nameRU.toLowerCase().includes(name.toLowerCase()) || movie.description.toLowerCase().includes(name.toLowerCase()) || nameEN.toLowerCase().includes(name.toLowerCase());\n      });\n      setSavedMovies(searchSavedMoviesList);\n    }\n  }\n\n  ;\n\n  function handleSavedMovie(_ref5) {\n    let {\n      movie\n    } = _ref5;\n    const nameEN = movie.nameEN ? movie.nameEN : movie.nameRU;\n    const country = movie.country ? movie.country : 'Неизвестно';\n    console.log(country);\n    mainApi.createMovie({\n      country: country,\n      director: movie.director,\n      duration: movie.duration,\n      year: movie.year,\n      description: movie.description,\n      image: `https://api.nomoreparties.co/${movie.image.url}`,\n      trailerLink: movie.trailerLink,\n      thumbnail: `https://api.nomoreparties.co/${movie.image.formats.thumbnail.url}`,\n      movieId: movie.id,\n      nameRU: movie.nameRU,\n      nameEN: nameEN\n    }).then(res => {\n      const NewSavedMovies = [res.movie, ...savedMovies];\n      setSavedMovies(NewSavedMovies);\n      localStorage.setItem('savedMoviesList', JSON.stringify(NewSavedMovies));\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  ;\n\n  function handleDeleteMovie(_ref6) {\n    let {\n      movie\n    } = _ref6;\n    const movieForDelete = savedMovies.find(i => i.movieId === movie.id);\n    mainApi.deleteMovie(movieForDelete._id).then(res => {\n      const NewSavedMovies = savedMovies.filter(i => i.movieId !== movie.id);\n      setSavedMovies(NewSavedMovies);\n      localStorage.setItem('savedMoviesList', JSON.stringify(NewSavedMovies));\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  ;\n\n  function handleDeleteSavedMovie(_ref7) {\n    let {\n      movie\n    } = _ref7;\n    mainApi.deleteMovie(movie._id).then(res => {\n      const NewSavedMovies = savedMovies.filter(i => i._id !== movie._id);\n      setSavedMovies(NewSavedMovies);\n      localStorage.setItem('savedMoviesList', JSON.stringify(NewSavedMovies));\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  ;\n\n  function handleToggleShortSavedMovies(_ref8) {\n    let {\n      checked\n    } = _ref8;\n    !checked ? setIsShortSavedMovies(true) : setIsShortSavedMovies(false);\n  }\n\n  ;\n  React.useEffect(() => {\n    const savedMoviesList = JSON.parse(localStorage.getItem('savedMoviesList'));\n    isShortSavedMovies ? setSavedMovies(state => state.filter(i => i.duration <= 40)) : setSavedMovies(savedMoviesList);\n  }, [isShortSavedMovies]);\n\n  function handleLogout(_ref9) {\n    let {\n      email\n    } = _ref9;\n    setIsLoading(true);\n    mainApi.logout(email).then(() => {\n      localStorage.clear();\n      setCurrentUser({\n        name: '',\n        email: ''\n      });\n      setMovies([]);\n      setSavedMovies([]);\n      setLoggedIn(false);\n      history.push('/');\n      console.log(loggedIn);\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => setIsLoading(false));\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n    value: currentUser,\n    children: /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n      value: {\n        movies: movies,\n        savedMovies: savedMovies,\n        loggedIn: loggedIn,\n        isLoading: isLoading\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"background\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page\",\n          children: [/*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              children: /*#__PURE__*/_jsxDEV(Main, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/signup\",\n              children: /*#__PURE__*/_jsxDEV(Register, {\n                handleRegister: handleRegister\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/signin\",\n              children: /*#__PURE__*/_jsxDEV(Login, {\n                handleLogin: handleLogin\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              path: \"/profile\",\n              component: Profile,\n              handleEditProfile: handleEditProfile,\n              logout: handleLogout,\n              isLoading: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              path: \"/movies\",\n              defaultValue: localStorage.getItem('nameMovie') || '',\n              component: Movies,\n              getMoviesList: getMovieslist,\n              handleSavedMovie: handleSavedMovie,\n              handleDeleteMovie: handleDeleteMovie,\n              checkLikeStatus: checkLikeStatus,\n              isLoading: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              path: \"/saved-movies\",\n              component: SavedMovies,\n              getMoviesList: searchSavedMovies,\n              handleDeleteSavedMovie: handleDeleteSavedMovie,\n              checkLikeStatus: checkLikeStatus,\n              handleToggleShortSavedMovies: handleToggleShortSavedMovies,\n              isLoading: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"*\",\n              children: /*#__PURE__*/_jsxDEV(NotFond, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InfoPopup, {\n            isOpen: isInfoPopupOpen,\n            onClose: closeInfoPopup,\n            title: infoPopupTitle.title,\n            isError: isError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 297,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"780VXHQ8i2CzFh3GsOyS3tf0Xpk=\", false, function () {\n  return [useLocation, useHistory];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Route","Switch","useHistory","useLocation","Login","Main","Movies","Profile","Register","movieApi","mainApi","AppContext","SavedMovies","NotFond","ProtectedRoute","CurrentUserContext","InfoPopup","App","location","history","currentUser","setCurrentUser","useState","movies","setMovies","savedMovies","setSavedMovies","loggedIn","setLoggedIn","undefined","isLoading","setIsLoading","isShortSavedMovies","setIsShortSavedMovies","isInfoPopupOpen","setIsInfoPopupOpen","infoPopupTitle","setInfoPopupTitle","title","isError","setIsError","useEffect","getUserInfo","then","data","catch","err","console","log","finally","getUserMovies","lastSearchList","JSON","parse","localStorage","getItem","setItem","stringify","token","checkToken","push","pathname","handleRegister","name","email","password","register","res","openErrorPopup","handleLogin","login","handleEditProfile","setUserInfo","openSuccessPopup","handleInfoPopupClick","closeInfoPopup","handleEscClose","evt","key","handleOverlayClose","target","classList","contains","window","addEventListener","removeEventListener","checkLikeStatus","movie","some","i","movieId","id","owner","_id","getMovieslist","isShort","getMovies","moviesData","searchedMovies","filter","nameEN","nameRU","toLowerCase","includes","description","foundMovies","item","duration","length","searchSavedMovies","savedMoviesList","searchSavedMoviesList","handleSavedMovie","country","createMovie","director","year","image","url","trailerLink","thumbnail","formats","NewSavedMovies","handleDeleteMovie","movieForDelete","find","deleteMovie","handleDeleteSavedMovie","handleToggleShortSavedMovies","checked","state","handleLogout","logout","clear"],"sources":["C:/Users/panyushin/dev/movies-explorer-frontend/src/components/App/App.js"],"sourcesContent":["import React from 'react';\r\nimport { Route, Switch, useHistory, useLocation } from 'react-router-dom';\r\nimport Login from '../Login/Login.js';\r\nimport Main from '../Main/Main.js';\r\nimport Movies from '../Movies/Movies.js';\r\nimport Profile from '../Profile/Profile.js';\r\nimport Register from '../Register/Register.js';\r\nimport * as movieApi from '../../utils/MoviesApi.js';\r\nimport * as mainApi from '../../utils/MainApi.js';\r\nimport { AppContext } from '../../contexts/AppContext.js';\r\nimport SavedMovies from '../SavedMovies/SavedMovies.js';\r\nimport NotFond from '../NotFound/NotFound.js';\r\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute.js';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext.js';\r\nimport InfoPopup from '../InfoPopup/InfoPopup.js';\r\n\r\nfunction App() {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [movies, setMovies] = React.useState([]);\r\n  const [savedMovies, setSavedMovies] = React.useState([]);\r\n  const [loggedIn, setLoggedIn] = React.useState(undefined);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n  const [isShortSavedMovies, setIsShortSavedMovies] = React.useState(false);\r\n  const [isInfoPopupOpen, setIsInfoPopupOpen] = React.useState(false);\r\n  const [infoPopupTitle, setInfoPopupTitle] = React.useState({ title: 'Что-то пошло не так! Попробуйте ещё раз.' });\r\n  const [isError, setIsError] = React.useState(false);\r\n\r\n  React.useEffect(() =>{\r\n    if(loggedIn === true) {\r\n      setIsLoading(true)\r\n        mainApi.getUserInfo()\r\n          .then((data) => {\r\n            setCurrentUser(data)\r\n          })\r\n          .catch(err => console.log(err))\r\n          .finally(() => {\r\n            setIsLoading(false)\r\n          })\r\n      }\r\n  }, [location, loggedIn]);\r\n\r\n  React.useEffect(() => {\r\n      if(loggedIn === true) {\r\n        setIsLoading(true)\r\n        mainApi.getUserMovies()\r\n          .then((data) => {\r\n            const lastSearchList = JSON.parse(localStorage.getItem('lastSearchList'));\r\n            lastSearchList && setMovies(lastSearchList);\r\n            setSavedMovies(data);\r\n            localStorage.setItem(\r\n              'savedMoviesList',\r\n              JSON.stringify(data)\r\n            );\r\n          })\r\n          .catch((err) => console.log(err))\r\n          .finally(() => {\r\n            setIsLoading(false)\r\n          })\r\n      }\r\n  }, [location, loggedIn]);\r\n\r\n  React.useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if(localStorage.getItem('token')){\r\n      mainApi.checkToken(token)\r\n        .then((data) => {\r\n          setLoggedIn(true)\r\n          history.push(location.pathname)\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n  }, [localStorage.getItem('token')])\r\n\r\n  function handleRegister({ name, email, password }) {\r\n    mainApi.register(name, email, password)\r\n    .then((res) => {\r\n      console.log(res)\r\n      history.push('/signin')\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n      openErrorPopup('Что-то пошло не так! Попробуйте ещё раз.');\r\n    })\r\n  };\r\n\r\n  function handleLogin({ email, password}) {\r\n    mainApi.login(email, password)\r\n    .then((res) => {\r\n      history.push('/movies')\r\n      setLoggedIn(true)\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n      openErrorPopup('Что-то пошло не так! Попробуйте ещё раз.');\r\n    })\r\n  };\r\n\r\n  function handleEditProfile({ name, email }) {\r\n    mainApi.setUserInfo(name, email)\r\n    .then((res) => {\r\n      setCurrentUser({...currentUser, name: res.name, email: res.email})\r\n      openSuccessPopup('Данные успешно обновлены!');\r\n    })\r\n    .catch((err) => {\r\n      openErrorPopup('Что-то пошло не так! Попробуйте ещё раз.');\r\n      console.log(err);\r\n    })\r\n    .finally(() => {\r\n      setIsLoading(false);\r\n    });\r\n  };\r\n\r\n  function handleInfoPopupClick() {\r\n    setIsInfoPopupOpen(true);\r\n  };\r\n\r\n  function openErrorPopup(title) {\r\n    handleInfoPopupClick();\r\n    setIsError(true);\r\n    setInfoPopupTitle({ title });\r\n  };\r\n\r\n  function openSuccessPopup(title) {\r\n    handleInfoPopupClick();\r\n    setIsError(false);\r\n    setInfoPopupTitle({ title });\r\n  };\r\n\r\n  function closeInfoPopup() {\r\n    setIsInfoPopupOpen(false);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    function handleEscClose(evt) {\r\n      evt.key === 'Escape' && closeInfoPopup();\r\n    }\r\n\r\n    function handleOverlayClose(evt) {\r\n      evt.target.classList.contains('popup-info_opened') && closeInfoPopup();\r\n    }\r\n\r\n    window.addEventListener('keydown', handleEscClose);\r\n    window.addEventListener('click', handleOverlayClose);\r\n\r\n    return () => {\r\n      window.removeEventListener('click', handleOverlayClose);\r\n      window.removeEventListener('keydown', handleEscClose);\r\n    };\r\n  }, []);\r\n\r\n  function checkLikeStatus({ movie }) {\r\n    if (savedMovies) {\r\n      return savedMovies.some(\r\n        (i) => i.movieId === movie.id && i.owner === currentUser._id\r\n      );\r\n    }\r\n    return false;\r\n  };\r\n\r\n  function getMovieslist(name, isShort) {\r\n    if (loggedIn) {\r\n      setIsLoading(true);\r\n      movieApi.getMovies()\r\n        .then((moviesData) => {\r\n          localStorage.setItem('movies', JSON.stringify(moviesData));\r\n          const searchedMovies = moviesData.filter((movie) => {\r\n            const nameEN = movie.nameEN ? movie.nameEN : movie.nameRU;\r\n            return (movie.nameRU.toLowerCase().includes(name.toLowerCase()) ||\r\n            movie.description.toLowerCase().includes(name.toLowerCase()) ||\r\n            nameEN.toLowerCase().includes(name.toLowerCase()))\r\n          })\r\n          const foundMovies = isShort ? searchedMovies.filter((item) => item.duration <= 40) : searchedMovies\r\n          localStorage.setItem('foundMovies', JSON.stringify(foundMovies))\r\n          const lastSearchList = ('lastSearchList', JSON.parse(localStorage.getItem('foundMovies')))\r\n          localStorage.setItem('nameMovie', name)\r\n          localStorage.setItem('isShort', isShort)\r\n          setMovies(lastSearchList)\r\n          foundMovies.length === 0 && openErrorPopup('Ничего не найдено');\r\n        })\r\n        .catch((err) => {\r\n          openErrorPopup('Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз');\r\n        })\r\n        .finally(() => {\r\n          setIsLoading(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  function searchSavedMovies(name) {\r\n    const savedMoviesList = JSON.parse(localStorage.getItem('savedMoviesList'));\r\n    if (!name) {\r\n      openErrorPopup('Нужно ввести ключевое слово');\r\n      return;\r\n    }\r\n    if (savedMoviesList) {\r\n      const searchSavedMoviesList = savedMoviesList.filter((movie) => {\r\n        const nameEN = movie.nameEN ? movie.nameEN : movie.nameRU;\r\n        return (\r\n          movie.nameRU.toLowerCase().includes(name.toLowerCase()) ||\r\n          movie.description.toLowerCase().includes(name.toLowerCase()) ||\r\n          nameEN.toLowerCase().includes(name.toLowerCase())\r\n        );\r\n      });\r\n      setSavedMovies(searchSavedMoviesList);\r\n    }\r\n  };\r\n\r\n  function handleSavedMovie({ movie }) {\r\n    const nameEN = movie.nameEN ? movie.nameEN : movie.nameRU;\r\n    const country = movie.country ? movie.country : 'Неизвестно';\r\n    console.log(country)\r\n    mainApi.createMovie({\r\n        country: country,\r\n        director: movie.director,\r\n        duration: movie.duration,\r\n        year: movie.year,\r\n        description: movie.description,\r\n        image: `https://api.nomoreparties.co/${movie.image.url}`,\r\n        trailerLink: movie.trailerLink,\r\n        thumbnail: `https://api.nomoreparties.co/${movie.image.formats.thumbnail.url}`,\r\n        movieId: movie.id,\r\n        nameRU: movie.nameRU,\r\n        nameEN: nameEN,\r\n      })\r\n      .then((res) => {\r\n        const NewSavedMovies = [res.movie, ...savedMovies];\r\n        setSavedMovies(NewSavedMovies);\r\n        localStorage.setItem('savedMoviesList', JSON.stringify(NewSavedMovies));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  function handleDeleteMovie({ movie }) {\r\n    const movieForDelete = savedMovies.find((i) => i.movieId === movie.id);\r\n    mainApi.deleteMovie(movieForDelete._id).then((res) => {\r\n        const NewSavedMovies = savedMovies.filter(\r\n          (i) => i.movieId !== movie.id\r\n        );\r\n        setSavedMovies(NewSavedMovies);\r\n        localStorage.setItem('savedMoviesList', JSON.stringify(NewSavedMovies));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  function handleDeleteSavedMovie({ movie }) {\r\n    mainApi.deleteMovie(movie._id)\r\n      .then((res) => {\r\n        const NewSavedMovies = savedMovies.filter((i) => i._id !== movie._id);\r\n        setSavedMovies(NewSavedMovies);\r\n        localStorage.setItem('savedMoviesList', JSON.stringify(NewSavedMovies));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  function handleToggleShortSavedMovies({ checked }) {\r\n    !checked\r\n      ? setIsShortSavedMovies(true)\r\n      : setIsShortSavedMovies(false);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    const savedMoviesList = JSON.parse(localStorage.getItem('savedMoviesList'));\r\n    isShortSavedMovies\r\n      ? setSavedMovies((state) =>\r\n          state.filter((i) => i.duration <= 40)\r\n        )\r\n      : setSavedMovies(savedMoviesList);\r\n  }, [isShortSavedMovies]);\r\n\r\n  function handleLogout({ email }) {\r\n    setIsLoading(true)\r\n    mainApi.logout(email)\r\n      .then(() => {\r\n        localStorage.clear();\r\n        setCurrentUser({ name: '', email: '' });\r\n        setMovies([]);\r\n        setSavedMovies([]);\r\n        setLoggedIn(false);\r\n        history.push('/');\r\n        console.log(loggedIn)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => setIsLoading(false))\r\n  };\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <AppContext.Provider value={{\r\n        movies: movies,\r\n        savedMovies: savedMovies,\r\n        loggedIn: loggedIn,\r\n        isLoading: isLoading\r\n      }}>\r\n        <div className='background'>\r\n          <div className='page'>\r\n            <Switch>\r\n              <Route exact path='/'>\r\n                <Main/>\r\n              </Route>\r\n              <Route path='/signup'>\r\n                <Register handleRegister={handleRegister} />\r\n              </Route>\r\n              <Route path='/signin'>\r\n                <Login handleLogin={handleLogin} />\r\n              </Route>\r\n              <ProtectedRoute\r\n                path='/profile'\r\n                component={Profile}\r\n                handleEditProfile={handleEditProfile}\r\n                logout={handleLogout}\r\n                isLoading={isLoading}\r\n              />\r\n              <ProtectedRoute\r\n                path='/movies'\r\n                defaultValue={localStorage.getItem('nameMovie') || ''}\r\n                component={Movies}\r\n                getMoviesList={getMovieslist}\r\n                handleSavedMovie={handleSavedMovie}\r\n                handleDeleteMovie={handleDeleteMovie}\r\n                checkLikeStatus={checkLikeStatus}\r\n                isLoading={isLoading}\r\n              />\r\n              <ProtectedRoute\r\n                path='/saved-movies'\r\n                component={SavedMovies}\r\n                getMoviesList={searchSavedMovies}\r\n                handleDeleteSavedMovie={handleDeleteSavedMovie}\r\n                checkLikeStatus={checkLikeStatus}\r\n                handleToggleShortSavedMovies={handleToggleShortSavedMovies}\r\n                isLoading={isLoading}\r\n              />\r\n              <Route path='*'>\r\n                <NotFond />\r\n              </Route>\r\n            </Switch>\r\n            <InfoPopup\r\n              isOpen={isInfoPopupOpen}\r\n              onClose={closeInfoPopup}\r\n              title={infoPopupTitle.title}\r\n              isError={isError}\r\n            />\r\n          </div>\r\n        </div>\r\n      </AppContext.Provider>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}