{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\panyushin\\\\dev\\\\movies-explorer-frontend\\\\src\\\\components\\\\App\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Route, Switch, useHistory, useLocation } from 'react-router-dom';\nimport Login from '../Login/Login.js';\nimport Main from '../Main/Main.js';\nimport Movies from '../Movies/Movies.js';\nimport Profile from '../Profile/Profile.js';\nimport Register from '../Register/Register.js';\nimport * as movieApi from '../../utils/MoviesApi.js';\nimport * as mainApi from '../../utils/MainApi.js';\nimport { AppContext } from '../../contexts/AppContext.js';\nimport SavedMovies from '../SavedMovies/SavedMovies.js';\nimport NotFond from '../NotFound/NotFound.js';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute.js';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext.js';\nimport InfoPopup from '../InfoPopup/InfoPopup.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const location = useLocation();\n  const history = useHistory();\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [movies, setMovies] = React.useState([]);\n  const [savedMovies, setSavedMovies] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(undefined);\n  const [checkToken, setCheckToken] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [isShortSavedMovies, setIsShortSavedMovies] = React.useState(false);\n  const [isInfoPopupOpen, setIsInfoPopupOpen] = React.useState(false);\n  const [infoPopupTitle, setInfoPopupTitle] = React.useState({\n    title: 'Что-то пошло не так! Попробуйте ещё раз.'\n  });\n  const [isError, setIsError] = React.useState(false);\n  React.useEffect(() => {\n    if (checkToken === true) {\n      setIsLoading(true);\n      mainApi.getUserInfo().then(data => {\n        setCurrentUser(data);\n      }).catch(err => console.log(err)).finally(() => {\n        setIsLoading(false);\n      });\n    }\n  }, [checkToken, loggedIn]);\n  React.useEffect(() => {\n    if (localStorage.getItem('token')) if (checkToken === true) {\n      setTimeout(() => {\n        setIsLoading(true);\n        mainApi.getUserMovies().then(data => {\n          const lastSearchList = JSON.parse(localStorage.getItem('lastSearchList'));\n          lastSearchList && setMovies(lastSearchList);\n          setSavedMovies(data);\n          localStorage.setItem('savedMoviesList', JSON.stringify(data));\n        }).catch(err => console.log(err)).finally(() => {\n          setIsLoading(false);\n        });\n      });\n    }\n  }, [checkToken, loggedIn]);\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n\n    if (localStorage.getItem('token')) {\n      mainApi.checkToken(token).then(data => {\n        setLoggedIn(true);\n        history.push(location.pathname);\n        setCheckToken(true);\n      }).catch(err => console.log(err));\n    }\n  }, [localStorage.getItem('token')]);\n\n  function handleRegister(_ref) {\n    let {\n      name,\n      email,\n      password\n    } = _ref;\n    mainApi.register(name, email, password).then(res => {\n      console.log(res);\n      history.push('/signin');\n    }).catch(err => {\n      console.log(err);\n      openErrorPopup('Что-то пошло не так! Попробуйте ещё раз.');\n    });\n  }\n\n  ;\n\n  function handleLogin(_ref2) {\n    let {\n      email,\n      password\n    } = _ref2;\n    mainApi.login(email, password).then(res => {\n      history.push('/movies');\n      setLoggedIn(true);\n      console.log(localStorage.getItem('token'));\n    }).catch(err => {\n      console.log(err);\n      openErrorPopup('Что-то пошло не так! Попробуйте ещё раз.');\n    });\n  }\n\n  ;\n\n  function handleEditProfile(_ref3) {\n    let {\n      name,\n      email\n    } = _ref3;\n    mainApi.setUserInfo(name, email).then(res => {\n      setCurrentUser({ ...currentUser,\n        name: res.name,\n        email: res.email\n      });\n      openSuccessPopup('Данные успешно обновлены!');\n    }).catch(err => {\n      openErrorPopup('Что-то пошло не так! Попробуйте ещё раз.');\n      console.log(err);\n    }).finally(() => {\n      setIsLoading(false);\n    });\n  }\n\n  ;\n\n  function handleInfoPopupClick() {\n    setIsInfoPopupOpen(true);\n  }\n\n  ;\n\n  function openErrorPopup(title) {\n    handleInfoPopupClick();\n    setIsError(true);\n    setInfoPopupTitle({\n      title\n    });\n  }\n\n  ;\n\n  function openSuccessPopup(title) {\n    handleInfoPopupClick();\n    setIsError(false);\n    setInfoPopupTitle({\n      title\n    });\n  }\n\n  ;\n\n  function closeInfoPopup() {\n    setIsInfoPopupOpen(false);\n  }\n\n  ;\n  React.useEffect(() => {\n    function handleEscClose(evt) {\n      evt.key === 'Escape' && closeInfoPopup();\n    }\n\n    function handleOverlayClose(evt) {\n      evt.target.classList.contains('popup-info_opened') && closeInfoPopup();\n    }\n\n    window.addEventListener('keydown', handleEscClose);\n    window.addEventListener('click', handleOverlayClose);\n    return () => {\n      window.removeEventListener('click', handleOverlayClose);\n      window.removeEventListener('keydown', handleEscClose);\n    };\n  }, []);\n\n  function checkLikeStatus(_ref4) {\n    let {\n      movie\n    } = _ref4;\n\n    if (savedMovies) {\n      return savedMovies.some(i => i.movieId === movie.id && i.owner === currentUser._id);\n    }\n\n    return false;\n  }\n\n  ;\n\n  function getMovieslist(name, isShort) {\n    if (loggedIn) {\n      setIsLoading(true);\n      movieApi.getMovies().then(moviesData => {\n        localStorage.setItem('movies', JSON.stringify(moviesData));\n        const searchedMovies = moviesData.filter(movie => {\n          const nameEN = movie.nameEN ? movie.nameEN : movie.nameRU;\n          return movie.nameRU.toLowerCase().includes(name.toLowerCase()) || movie.description.toLowerCase().includes(name.toLowerCase()) || nameEN.toLowerCase().includes(name.toLowerCase());\n        });\n        const foundMovies = isShort ? searchedMovies.filter(item => item.duration <= 40) : searchedMovies;\n        localStorage.setItem('foundMovies', JSON.stringify(foundMovies));\n        const lastSearchList = ('lastSearchList', JSON.parse(localStorage.getItem('foundMovies')));\n        localStorage.setItem('nameMovie', name);\n        localStorage.setItem('isShort', isShort);\n        setMovies(lastSearchList);\n        foundMovies.length === 0 && openErrorPopup('Ничего не найдено');\n      }).catch(err => {\n        openErrorPopup('Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз');\n      }).finally(() => {\n        setIsLoading(false);\n      });\n    }\n  }\n\n  ;\n\n  function searchSavedMovies(name) {\n    const savedMoviesList = JSON.parse(localStorage.getItem('savedMoviesList'));\n\n    if (!name) {\n      openErrorPopup('Нужно ввести ключевое слово');\n      return;\n    }\n\n    if (savedMoviesList) {\n      const searchSavedMoviesList = savedMoviesList.filter(movie => {\n        const nameEN = movie.nameEN ? movie.nameEN : movie.nameRU;\n        return movie.nameRU.toLowerCase().includes(name.toLowerCase()) || movie.description.toLowerCase().includes(name.toLowerCase()) || nameEN.toLowerCase().includes(name.toLowerCase());\n      });\n      setSavedMovies(searchSavedMoviesList);\n    }\n  }\n\n  ;\n\n  function handleSavedMovie(_ref5) {\n    let {\n      movie\n    } = _ref5;\n    const nameEN = movie.nameEN ? movie.nameEN : movie.nameRU;\n    const country = movie.country ? movie.country : 'Неизвестно';\n    console.log(country);\n    mainApi.createMovie({\n      country: country,\n      director: movie.director,\n      duration: movie.duration,\n      year: movie.year,\n      description: movie.description,\n      image: `https://api.nomoreparties.co/${movie.image.url}`,\n      trailerLink: movie.trailerLink,\n      thumbnail: `https://api.nomoreparties.co/${movie.image.formats.thumbnail.url}`,\n      movieId: movie.id,\n      nameRU: movie.nameRU,\n      nameEN: nameEN\n    }).then(res => {\n      const NewSavedMovies = [res.movie, ...savedMovies];\n      setSavedMovies(NewSavedMovies);\n      localStorage.setItem('savedMoviesList', JSON.stringify(NewSavedMovies));\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  ;\n\n  function handleDeleteMovie(_ref6) {\n    let {\n      movie\n    } = _ref6;\n    const movieForDelete = savedMovies.find(i => i.movieId === movie.id);\n    mainApi.deleteMovie(movieForDelete._id).then(res => {\n      const NewSavedMovies = savedMovies.filter(i => i.movieId !== movie.id);\n      setSavedMovies(NewSavedMovies);\n      localStorage.setItem('savedMoviesList', JSON.stringify(NewSavedMovies));\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  ;\n\n  function handleDeleteSavedMovie(_ref7) {\n    let {\n      movie\n    } = _ref7;\n    mainApi.deleteMovie(movie._id).then(res => {\n      const NewSavedMovies = savedMovies.filter(i => i._id !== movie._id);\n      setSavedMovies(NewSavedMovies);\n      localStorage.setItem('savedMoviesList', JSON.stringify(NewSavedMovies));\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  ;\n\n  function handleToggleShortSavedMovies(_ref8) {\n    let {\n      checked\n    } = _ref8;\n    !checked ? setIsShortSavedMovies(true) : setIsShortSavedMovies(false);\n  }\n\n  ;\n  React.useEffect(() => {\n    const savedMoviesList = JSON.parse(localStorage.getItem('savedMoviesList'));\n    isShortSavedMovies ? setSavedMovies(state => state.filter(i => i.duration <= 40)) : setSavedMovies(savedMoviesList);\n  }, [isShortSavedMovies]);\n\n  function handleLogout(_ref9) {\n    let {\n      email\n    } = _ref9;\n    setIsLoading(true);\n    mainApi.logout(email).then(() => {\n      localStorage.clear();\n      setCurrentUser({\n        name: '',\n        email: ''\n      });\n      setMovies([]);\n      setSavedMovies([]);\n      setLoggedIn(false);\n      history.push('/');\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => setIsLoading(false));\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n    value: currentUser,\n    children: /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n      value: {\n        movies: movies,\n        savedMovies: savedMovies,\n        loggedIn: loggedIn,\n        isLoading: isLoading,\n        checkToken: checkToken\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"background\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page\",\n          children: [/*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              children: /*#__PURE__*/_jsxDEV(Main, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/signup\",\n              children: /*#__PURE__*/_jsxDEV(Register, {\n                handleRegister: handleRegister\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/signin\",\n              children: /*#__PURE__*/_jsxDEV(Login, {\n                handleLogin: handleLogin\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              path: \"/profile\",\n              loggedIn: loggedIn,\n              component: Profile,\n              handleEditProfile: handleEditProfile,\n              logout: handleLogout,\n              isLoading: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              path: \"/movies\",\n              loggedIn: loggedIn,\n              defaultValue: localStorage.getItem('nameMovie') || '',\n              component: Movies,\n              getMoviesList: getMovieslist,\n              handleSavedMovie: handleSavedMovie,\n              handleDeleteMovie: handleDeleteMovie,\n              checkLikeStatus: checkLikeStatus,\n              isLoading: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              path: \"/saved-movies\",\n              loggedIn: loggedIn,\n              component: SavedMovies,\n              getMoviesList: searchSavedMovies,\n              handleDeleteSavedMovie: handleDeleteSavedMovie,\n              checkLikeStatus: checkLikeStatus,\n              handleToggleShortSavedMovies: handleToggleShortSavedMovies,\n              isLoading: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"*\",\n              children: /*#__PURE__*/_jsxDEV(NotFond, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InfoPopup, {\n            isOpen: isInfoPopupOpen,\n            onClose: closeInfoPopup,\n            title: infoPopupTitle.title,\n            isError: isError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 302,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"kCb3jnWkDshWizh0Jlg8DLHaM9k=\", false, function () {\n  return [useLocation, useHistory];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Route","Switch","useHistory","useLocation","Login","Main","Movies","Profile","Register","movieApi","mainApi","AppContext","SavedMovies","NotFond","ProtectedRoute","CurrentUserContext","InfoPopup","App","location","history","currentUser","setCurrentUser","useState","movies","setMovies","savedMovies","setSavedMovies","loggedIn","setLoggedIn","undefined","checkToken","setCheckToken","isLoading","setIsLoading","isShortSavedMovies","setIsShortSavedMovies","isInfoPopupOpen","setIsInfoPopupOpen","infoPopupTitle","setInfoPopupTitle","title","isError","setIsError","useEffect","getUserInfo","then","data","catch","err","console","log","finally","localStorage","getItem","setTimeout","getUserMovies","lastSearchList","JSON","parse","setItem","stringify","token","push","pathname","handleRegister","name","email","password","register","res","openErrorPopup","handleLogin","login","handleEditProfile","setUserInfo","openSuccessPopup","handleInfoPopupClick","closeInfoPopup","handleEscClose","evt","key","handleOverlayClose","target","classList","contains","window","addEventListener","removeEventListener","checkLikeStatus","movie","some","i","movieId","id","owner","_id","getMovieslist","isShort","getMovies","moviesData","searchedMovies","filter","nameEN","nameRU","toLowerCase","includes","description","foundMovies","item","duration","length","searchSavedMovies","savedMoviesList","searchSavedMoviesList","handleSavedMovie","country","createMovie","director","year","image","url","trailerLink","thumbnail","formats","NewSavedMovies","handleDeleteMovie","movieForDelete","find","deleteMovie","handleDeleteSavedMovie","handleToggleShortSavedMovies","checked","state","handleLogout","logout","clear"],"sources":["C:/Users/panyushin/dev/movies-explorer-frontend/src/components/App/App.js"],"sourcesContent":["import React from 'react';\nimport { Route, Switch, useHistory, useLocation } from 'react-router-dom';\nimport Login from '../Login/Login.js';\nimport Main from '../Main/Main.js';\nimport Movies from '../Movies/Movies.js';\nimport Profile from '../Profile/Profile.js';\nimport Register from '../Register/Register.js';\nimport * as movieApi from '../../utils/MoviesApi.js';\nimport * as mainApi from '../../utils/MainApi.js';\nimport { AppContext } from '../../contexts/AppContext.js';\nimport SavedMovies from '../SavedMovies/SavedMovies.js';\nimport NotFond from '../NotFound/NotFound.js';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute.js';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext.js';\nimport InfoPopup from '../InfoPopup/InfoPopup.js';\n\nfunction App() {\n  const location = useLocation();\n  const history = useHistory();\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [movies, setMovies] = React.useState([]);\n  const [savedMovies, setSavedMovies] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(undefined);\n  const [checkToken, setCheckToken] = React.useState(false)\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [isShortSavedMovies, setIsShortSavedMovies] = React.useState(false);\n  const [isInfoPopupOpen, setIsInfoPopupOpen] = React.useState(false);\n  const [infoPopupTitle, setInfoPopupTitle] = React.useState({ title: 'Что-то пошло не так! Попробуйте ещё раз.' });\n  const [isError, setIsError] = React.useState(false);\n\n  React.useEffect(() =>{\n      if(checkToken === true) {\n        setIsLoading(true)\n          mainApi.getUserInfo()\n            .then((data) => {\n              setCurrentUser(data)\n            })\n            .catch(err => console.log(err))\n            .finally(() => {\n              setIsLoading(false)\n            })\n      }\n  }, [checkToken, loggedIn]);\n\n  React.useEffect(() => {\n    if(localStorage.getItem('token'))\n      if(checkToken === true) {\n        setTimeout(() => {\n          setIsLoading(true)\n          mainApi.getUserMovies()\n            .then((data) => {\n              const lastSearchList = JSON.parse(localStorage.getItem('lastSearchList'));\n              lastSearchList && setMovies(lastSearchList);\n              setSavedMovies(data);\n              localStorage.setItem(\n                'savedMoviesList',\n                JSON.stringify(data)\n              );\n            })\n            .catch((err) => console.log(err))\n            .finally(() => {\n              setIsLoading(false)\n            })\n        }, )\n    }\n  }, [checkToken, loggedIn]);\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n    if(localStorage.getItem('token')){\n      mainApi.checkToken(token)\n        .then((data) => {\n          setLoggedIn(true)\n          history.push(location.pathname)\n          setCheckToken(true)\n        })\n        .catch(err => console.log(err))\n    }\n  }, [localStorage.getItem('token')])\n\n  function handleRegister({ name, email, password }) {\n    mainApi.register(name, email, password)\n    .then((res) => {\n      console.log(res)\n      history.push('/signin')\n    })\n    .catch((err) => {\n      console.log(err)\n      openErrorPopup('Что-то пошло не так! Попробуйте ещё раз.');\n    })\n  };\n\n  function handleLogin({ email, password}) {\n    mainApi.login(email, password)\n    .then((res) => {\n      history.push('/movies')\n      setLoggedIn(true)\n      console.log(localStorage.getItem('token'))\n    })\n    .catch((err) => {\n      console.log(err)\n      openErrorPopup('Что-то пошло не так! Попробуйте ещё раз.');\n    })\n  };\n\n  function handleEditProfile({ name, email }) {\n    mainApi.setUserInfo(name, email)\n    .then((res) => {\n      setCurrentUser({...currentUser, name: res.name, email: res.email})\n      openSuccessPopup('Данные успешно обновлены!');\n    })\n    .catch((err) => {\n      openErrorPopup('Что-то пошло не так! Попробуйте ещё раз.');\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoading(false);\n    });\n  };\n\n  function handleInfoPopupClick() {\n    setIsInfoPopupOpen(true);\n  };\n\n  function openErrorPopup(title) {\n    handleInfoPopupClick();\n    setIsError(true);\n    setInfoPopupTitle({ title });\n  };\n\n  function openSuccessPopup(title) {\n    handleInfoPopupClick();\n    setIsError(false);\n    setInfoPopupTitle({ title });\n  };\n\n  function closeInfoPopup() {\n    setIsInfoPopupOpen(false);\n  };\n\n  React.useEffect(() => {\n    function handleEscClose(evt) {\n      evt.key === 'Escape' && closeInfoPopup();\n    }\n\n    function handleOverlayClose(evt) {\n      evt.target.classList.contains('popup-info_opened') && closeInfoPopup();\n    }\n\n    window.addEventListener('keydown', handleEscClose);\n    window.addEventListener('click', handleOverlayClose);\n\n    return () => {\n      window.removeEventListener('click', handleOverlayClose);\n      window.removeEventListener('keydown', handleEscClose);\n    };\n  }, []);\n\n  function checkLikeStatus({ movie }) {\n    if (savedMovies) {\n      return savedMovies.some(\n        (i) => i.movieId === movie.id && i.owner === currentUser._id\n      );\n    }\n    return false;\n  };\n\n  function getMovieslist(name, isShort) {\n    if (loggedIn) {\n      setIsLoading(true);\n      movieApi.getMovies()\n        .then((moviesData) => {\n          localStorage.setItem('movies', JSON.stringify(moviesData));\n          const searchedMovies = moviesData.filter((movie) => {\n            const nameEN = movie.nameEN ? movie.nameEN : movie.nameRU;\n            return (movie.nameRU.toLowerCase().includes(name.toLowerCase()) ||\n            movie.description.toLowerCase().includes(name.toLowerCase()) ||\n            nameEN.toLowerCase().includes(name.toLowerCase()))\n          })\n          const foundMovies = isShort ? searchedMovies.filter((item) => item.duration <= 40) : searchedMovies\n          localStorage.setItem('foundMovies', JSON.stringify(foundMovies))\n          const lastSearchList = ('lastSearchList', JSON.parse(localStorage.getItem('foundMovies')))\n          localStorage.setItem('nameMovie', name)\n          localStorage.setItem('isShort', isShort)\n          setMovies(lastSearchList)\n          foundMovies.length === 0 && openErrorPopup('Ничего не найдено');\n        })\n        .catch((err) => {\n          openErrorPopup('Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз');\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    }\n  };\n\n  function searchSavedMovies(name) {\n    const savedMoviesList = JSON.parse(localStorage.getItem('savedMoviesList'));\n    if (!name) {\n      openErrorPopup('Нужно ввести ключевое слово');\n      return;\n    }\n    if (savedMoviesList) {\n      const searchSavedMoviesList = savedMoviesList.filter((movie) => {\n        const nameEN = movie.nameEN ? movie.nameEN : movie.nameRU;\n        return (\n          movie.nameRU.toLowerCase().includes(name.toLowerCase()) ||\n          movie.description.toLowerCase().includes(name.toLowerCase()) ||\n          nameEN.toLowerCase().includes(name.toLowerCase())\n        );\n      });\n      setSavedMovies(searchSavedMoviesList);\n    }\n  };\n\n  function handleSavedMovie({ movie }) {\n    const nameEN = movie.nameEN ? movie.nameEN : movie.nameRU;\n    const country = movie.country ? movie.country : 'Неизвестно';\n    console.log(country)\n    mainApi.createMovie({\n        country: country,\n        director: movie.director,\n        duration: movie.duration,\n        year: movie.year,\n        description: movie.description,\n        image: `https://api.nomoreparties.co/${movie.image.url}`,\n        trailerLink: movie.trailerLink,\n        thumbnail: `https://api.nomoreparties.co/${movie.image.formats.thumbnail.url}`,\n        movieId: movie.id,\n        nameRU: movie.nameRU,\n        nameEN: nameEN,\n      })\n      .then((res) => {\n        const NewSavedMovies = [res.movie, ...savedMovies];\n        setSavedMovies(NewSavedMovies);\n        localStorage.setItem('savedMoviesList', JSON.stringify(NewSavedMovies));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  function handleDeleteMovie({ movie }) {\n    const movieForDelete = savedMovies.find((i) => i.movieId === movie.id);\n    mainApi.deleteMovie(movieForDelete._id).then((res) => {\n        const NewSavedMovies = savedMovies.filter(\n          (i) => i.movieId !== movie.id\n        );\n        setSavedMovies(NewSavedMovies);\n        localStorage.setItem('savedMoviesList', JSON.stringify(NewSavedMovies));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  function handleDeleteSavedMovie({ movie }) {\n    mainApi.deleteMovie(movie._id)\n      .then((res) => {\n        const NewSavedMovies = savedMovies.filter((i) => i._id !== movie._id);\n        setSavedMovies(NewSavedMovies);\n        localStorage.setItem('savedMoviesList', JSON.stringify(NewSavedMovies));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  function handleToggleShortSavedMovies({ checked }) {\n    !checked\n      ? setIsShortSavedMovies(true)\n      : setIsShortSavedMovies(false);\n  };\n\n  React.useEffect(() => {\n    const savedMoviesList = JSON.parse(localStorage.getItem('savedMoviesList'));\n    isShortSavedMovies\n      ? setSavedMovies((state) =>\n          state.filter((i) => i.duration <= 40)\n        )\n      : setSavedMovies(savedMoviesList);\n  }, [isShortSavedMovies]);\n\n  function handleLogout({ email }) {\n    setIsLoading(true)\n    mainApi.logout(email)\n      .then(() => {\n        localStorage.clear();\n        setCurrentUser({ name: '', email: '' });\n        setMovies([]);\n        setSavedMovies([]);\n        setLoggedIn(false);\n        history.push('/');\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => setIsLoading(false))\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <AppContext.Provider value={{\n        movies: movies,\n        savedMovies: savedMovies,\n        loggedIn: loggedIn,\n        isLoading: isLoading,\n        checkToken: checkToken\n      }}>\n        <div className='background'>\n          <div className='page'>\n            <Switch>\n              <Route exact path='/'>\n                <Main/>\n              </Route>\n              <Route path='/signup'>\n                <Register handleRegister={handleRegister} />\n              </Route>\n              <Route path='/signin'>\n                <Login handleLogin={handleLogin} />\n              </Route>\n              <ProtectedRoute\n                path='/profile'\n                loggedIn={loggedIn}\n                component={Profile}\n                handleEditProfile={handleEditProfile}\n                logout={handleLogout}\n                isLoading={isLoading}\n              />\n              <ProtectedRoute\n                path='/movies'\n                loggedIn={loggedIn}\n                defaultValue={localStorage.getItem('nameMovie') || ''}\n                component={Movies}\n                getMoviesList={getMovieslist}\n                handleSavedMovie={handleSavedMovie}\n                handleDeleteMovie={handleDeleteMovie}\n                checkLikeStatus={checkLikeStatus}\n                isLoading={isLoading}\n              />\n              <ProtectedRoute\n                path='/saved-movies'\n                loggedIn={loggedIn}\n                component={SavedMovies}\n                getMoviesList={searchSavedMovies}\n                handleDeleteSavedMovie={handleDeleteSavedMovie}\n                checkLikeStatus={checkLikeStatus}\n                handleToggleShortSavedMovies={handleToggleShortSavedMovies}\n                isLoading={isLoading}\n              />\n              <Route path='*'>\n                <NotFond />\n              </Route>\n            </Switch>\n            <InfoPopup\n              isOpen={isInfoPopupOpen}\n              onClose={closeInfoPopup}\n              title={infoPopupTitle.title}\n              isError={isError}\n            />\n          </div>\n        </div>\n      </AppContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}